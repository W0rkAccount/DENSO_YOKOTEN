<!DOCTYPE html>
<html lang="th">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!--favicon-->
    <link rel="icon" href="assets/images/favicon-32x32.png" type="image/png" />
    <!--plugins-->
    <link href="assets/plugins/simplebar/css/simplebar.css" rel="stylesheet" />
    <link href="assets/plugins/input-tags/css/tagsinput.css" rel="stylesheet" />
    <link href="assets/plugins/perfect-scrollbar/css/perfect-scrollbar.css" rel="stylesheet" />
    <link href="assets/plugins/metismenu/css/metisMenu.min.css" rel="stylesheet" />
    <link href="assets/plugins/datatable/css/dataTables.bootstrap5.min.css" rel="stylesheet" />
    <!-- loader-->
    <link href="assets/css/pace.min.css" rel="stylesheet" />
    <script src="assets/js/pace.min.js"></script>
    <!-- Bootstrap CSS -->
    <link href="assets/css/bootstrap.min.css" rel="stylesheet" />
    <link href="assets/css/bootstrap-extended.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet" />
    <link href="assets/css/app.css" rel="stylesheet" />
    <link href="assets/css/icons.css" rel="stylesheet" />
    <!-- Theme Style CSS -->
    <link rel="stylesheet" href="assets/css/dark-theme.css" />
    <link rel="stylesheet" href="assets/css/semi-dark.css" />
    <link rel="stylesheet" href="assets/css/header-colors.css" />
    <title>Safety Incident News Yokoten - Entry Page #3</title>
    <style>
        .detail-card {
            position: sticky;
            top: 20px;
        }
        .summary-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .summary-box h6 {
            color: white;
            font-weight: 600;
            margin-bottom: 15px;
        }
        .summary-box p {
            margin-bottom: 8px;
            font-size: 0.9rem;
        }
        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        .status-applicable { background: #d4edda; color: #155724; }
        .status-not-applicable { background: #f8d7da; color: #721c24; }
        .status-not-submitted { background: #fff3cd; color: #856404; }
        .status-pending { background: #d1ecf1; color: #0c5460; }
        .status-approved { background: #d4edda; color: #155724; }
        .status-added { background: #cce5ff; color: #004085; }
        .clickable-row {
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .clickable-row:hover {
            background-color: #f5f5f5;
        }
        .clickable-row.selected {
            background-color: #e3f2fd;
        }
        .stats-footer {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }
        .stat-item {
            display: inline-block;
            margin-right: 20px;
            padding: 8px 15px;
            background: white;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .stat-label {
            font-weight: 600;
            color: #495057;
        }
        .stat-value {
            color: #007bff;
            font-weight: 700;
        }
        .evidence-upload {
            border: 2px dashed #dee2e6;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            background: #f8f9fa;
        }
        .evidence-upload:hover {
            border-color: #007bff;
            background: #e7f3ff;
        }
    </style>
</head>
<body>
    <div class="wrapper">
        <!--sidebar wrapper -->
        <div class="sidebar-wrapper" data-simplebar="true">
            <!-- <div class="sidebar-header">
                <div>
                    <img src="assets/images/logo-icon.png" class="logo-icon" alt="logo icon" />
                </div>
                <div>
                    <h4 class="logo-text">Rocker</h4>
                </div>
                <div class="toggle-icon ms-auto">
                    <i class="bx bx-arrow-back"></i>
                </div>
            </div> -->
            <!--navigation-->
            <!-- <ul class="metismenu" id="menu">
                <li>
                    <a href="javascript:;" class="has-arrow">
                        <div class="parent-icon"><i class="bx bx-home-alt"></i></div>
                        <div class="menu-title">Dashboard</div>
                    </a>
                    <ul>
                        <li><a href="index.html"><i class="bx bx-radio-circle"></i>Default</a></li>
                        <li><a href="index2.html"><i class="bx bx-radio-circle"></i>Alternate</a></li>
                        <li><a href="index3.html"><i class="bx bx-radio-circle"></i>Graphical</a></li>
                    </ul>
                </li>
                <li>
                    <a href="javascript:;" class="has-arrow">
                        <div class="parent-icon"><i class="bx bx-category"></i></div>
                        <div class="menu-title">Application</div>
                    </a>
                    <ul>
                        <li><a href="app-emailbox.html"><i class="bx bx-radio-circle"></i>Email</a></li>
                        <li><a href="app-chat-box.html"><i class="bx bx-radio-circle"></i>Chat Box</a></li>
                        <li><a href="app-file-manager.html"><i class="bx bx-radio-circle"></i>File Manager</a></li>
                        <li><a href="app-contact-list.html"><i class="bx bx-radio-circle"></i>Contatcs</a></li>
                        <li><a href="app-to-do.html"><i class="bx bx-radio-circle"></i>Todo List</a></li>
                        <li><a href="app-invoice.html"><i class="bx bx-radio-circle"></i>Invoice</a></li>
                        <li><a href="app-fullcalender.html"><i class="bx bx-radio-circle"></i>Calendar</a></li>
                    </ul>
                </li>
                <li class="menu-label">Forms & Tables</li>
                <li>
                    <a class="has-arrow" href="javascript:;">
                        <div class="parent-icon"><i class="bx bx-message-square-edit"></i></div>
                        <div class="menu-title">Forms</div>
                    </a>
                    <ul>
                        <li><a href="form-elements.html"><i class="bx bx-radio-circle"></i>Form Elements</a></li>
                        <li><a href="form-input-group.html"><i class="bx bx-radio-circle"></i>Input Groups</a></li>
                        <li><a href="form-radios-and-checkboxes.html"><i class="bx bx-radio-circle"></i>Radios & Checkboxes</a></li>
                        <li><a href="form-layouts.html"><i class="bx bx-radio-circle"></i>Forms Layouts</a></li>
                        <li><a href="form-validations.html"><i class="bx bx-radio-circle"></i>Form Validation</a></li>
                        <li><a href="form-wizard.html"><i class="bx bx-radio-circle"></i>Form Wizard</a></li>
                        <li><a href="form-text-editor.html"><i class="bx bx-radio-circle"></i>Text Editor</a></li>
                        <li><a href="form-file-upload.html"><i class="bx bx-radio-circle"></i>File Upload</a></li>
                    </ul>
                </li>
            </ul> -->
            <!--end navigation-->
        </div>
        <!--end sidebar wrapper -->
        
        <!--start header -->
        <header>
            <div class="topbar d-flex align-items-center">
                <nav class="navbar navbar-expand gap-3">
                    <!-- <div class="mobile-toggle-menu"><i class="bx bx-menu"></i></div>
                    
                    <div class="position-relative search-bar d-lg-block d-none" data-bs-toggle="modal" data-bs-target="#SearchModal">
                        <input class="form-control px-5" disabled type="search" placeholder="Search" />
                        <span class="position-absolute top-50 search-show ms-3 translate-middle-y start-0 top-50 fs-5">
                            <i class="bx bx-search"></i>
                        </span>
                    </div>
                    
                    <div class="top-menu ms-auto">
                        <ul class="navbar-nav align-items-center gap-1">
                            <li class="nav-item dark-mode d-none d-sm-flex">
                                <a class="nav-link dark-mode-icon" href="javascript:;"><i class="bx bx-moon"></i></a>
                            </li>
                        </ul>
                    </div>
                    
                    <div class="user-box dropdown px-3">
                        <a class="d-flex align-items-center nav-link dropdown-toggle gap-3 dropdown-toggle-nocaret" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <img src="assets/images/avatars/avatar-2.png" class="user-img" alt="user avatar" />
                            <div class="user-info">
                                <p class="user-name mb-0">Pauline Seitz</p>
                                <p class="designattion mb-0">Web Designer</p>
                            </div>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item d-flex align-items-center" href="javascript:;"><i class="bx bx-user fs-5"></i><span>Profile</span></a></li>
                            <li><a class="dropdown-item d-flex align-items-center" href="javascript:;"><i class="bx bx-cog fs-5"></i><span>Settings</span></a></li>
                            <li><a class="dropdown-item d-flex align-items-center" href="javascript:;"><i class="bx bx-home-circle fs-5"></i><span>Dashboard</span></a></li>
                            <li>
                                <div class="dropdown-divider mb-0"></div>
                            </li>
                            <li><a class="dropdown-item d-flex align-items-center" href="javascript:;"><i class="bx bx-log-out-circle"></i><span>Logout</span></a></li>
                        </ul> -->
                    </div>
                </nav>
            </div>
        </header>
        <!--end header -->
        
        <!--start page wrapper -->
        <div class="page-wrapper">
            <div class="page-content">
                <!--breadcrumb-->
                <div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3">
                    <div class="breadcrumb-title pe-3">Safety Management</div>
                    <div class="ps-3">
                        <nav aria-label="breadcrumb">
                            <ol class="breadcrumb mb-0 p-0">
                                <li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li>
                                <li class="breadcrumb-item active" aria-current="page">Yokoten Entry Page #3</li>
                            </ol>
                        </nav>
                    </div>
                    <!-- <div class="ms-auto">
                        <div class="btn-group">
                            <button type="button" class="btn btn-primary">Export</button>
                            <button type="button" class="btn btn-primary split-bg-primary dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown">
                                <span class="visually-hidden">Toggle Dropdown</span>
                            </button>
                            <div class="dropdown-menu dropdown-menu-right dropdown-menu-lg-end">
                                <a class="dropdown-item" href="javascript:;">Export to Excel</a>
                                <a class="dropdown-item" href="javascript:;">Export to PDF</a>
                                <a class="dropdown-item" href="javascript:;">Print</a>
                            </div>
                        </div>
                    </div> -->
                </div>
                <!--end breadcrumb-->
                
                <!-- Filter Section -->
                <div class="card">
                    <div class="card-body">
                        <div class="d-flex align-items-center mb-3">
                            <div><i class="bx bx-filter-alt font-22 text-primary"></i></div>
                            <h5 class="mb-0 ms-2 text-primary">Filter Section</h5>
                        </div>
                        <hr/>
                        <div class="row g-3">
                            <div class="col-md-2">
                                <label for="filterPlant" class="form-label">Plant</label>
                                <select id="filterPlant" class="form-select">
                                    <option selected>All</option>
                                    <option value="EX1">EX1</option>
                                    <option value="EX2">EX2</option>
                                </select>
                            </div>
                            
                            <div class="col-md-2">
                                <label for="filterSection" class="form-label">Section</label>
                                <select id="filterSection" class="form-select">
                                    <option selected>All</option>
                                    <option value="EX4">EX4</option>
                                    <option value="EX5">EX5</option>
                                </select>
                            </div>
                            
                            <div class="col-md-2">
                                <label for="filterDateFrom" class="form-label">Date From</label>
                                <input type="date" class="form-control" id="filterDateFrom">
                            </div>
                            
                            <div class="col-md-2">
                                <label for="filterDateTo" class="form-label">Date To</label>
                                <input type="date" class="form-control" id="filterDateTo">
                            </div>
                            
                            <div class="col-md-2">
                                <label for="filterGrade" class="form-label">Grade</label>
                                <select id="filterGrade" class="form-select">
                                    <option selected>All</option>
                                    <option value="EX7">EX7</option>
                                </select>
                            </div>
                            
                            <div class="col-md-2">
                                <label for="filterClass" class="form-label">Class</label>
                                <select id="filterClass" class="form-select">
                                    <option selected>All</option>
                                    <option value="EX10">EX10</option>
                                </select>
                            </div>
                            
                            <div class="col-md-3">
                                <label for="filterStatus" class="form-label">Applicability Status</label>
                                <select id="filterStatus" class="form-select">
                                    <option selected>All</option>
                                    <option value="Applicable">Applicable</option>
                                    <option value="Not Applicable">Not Applicable</option>
                                    <option value="Not Submitted">Not Submitted</option>
                                    <option value="Pending">Pending</option>
                                </select>
                            </div>
                            
                            <div class="col-md-2 d-flex align-items-end">
                                <button type="button" class="btn btn-light-secondary px-4" onclick="resetFilters()">
                                    <i class="bx bx-reset me-1"></i>Reset
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Main Content Area -->
                <div class="row mt-3">
                    <!-- Data Table Section -->
                    <div class="col-lg-8">
                        <div class="card">
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-striped table-hover" id="incidentTable">
                                        <thead class="table-primary">
                                            <tr>
                                                <th>ID</th>
                                                <th>Section</th>
                                                <th>Grade</th>
                                                <th>Class</th>
                                                <th>Title of Incident</th>
                                                <th>Applicability Status</th>
                                                <th>Check Status</th>
                                                <th>Next</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr class="clickable-row" data-id="2277" onclick="showDetails(2277)">
                                                <td>2277</td>
                                                <td>PRD - Blower</td>
                                                <td>Fire/Exp</td>
                                                <td>Fire near Miss</td>
                                                <td>Smoke at refrigerator</td>
                                                <td><span class="status-badge status-applicable">Applicable</span></td>
                                                <td><span class="status-badge status-added">Added</span></td>
                                                <td><a href="javascript:;" class="text-primary"><i class="bx bx-right-arrow-alt"></i></a></td>
                                            </tr>
                                            <tr class="clickable-row" data-id="2223" onclick="showDetails(2223)">
                                                <td>2223</td>
                                                <td>PRD - Blower</td>
                                                <td>II</td>
                                                <td>Fall due to balance...</td>
                                                <td>Fall due to loss of balance...</td>
                                                <td><span class="status-badge status-not-submitted">Not Submitted</span></td>
                                                <td><span class="status-badge status-pending">Pending</span></td>
                                                <td><a href="javascript:;" class="text-primary"><i class="bx bx-right-arrow-alt"></i></a></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Detail Panel Section -->
                    <div class="col-lg-4">
                        <div class="detail-card">
                            <!-- Incident Summary -->
                            <div class="summary-box">
                                <h6><i class="bx bx-info-circle me-2"></i>Incident Summary</h6>
                                <p><strong>ID:</strong> <span id="detailId">2277</span></p>
                                <p><strong>Title:</strong> <span id="detailTitle">Smoke at refrigerator</span></p>
                                <hr style="border-color: rgba(255,255,255,0.3);">
                                <p><strong>Total Items:</strong> <span id="detailTotalItems">1</span></p>
                                <p><strong>NG Items:</strong> <span id="detailNGItems">1</span></p>
                            </div>
                            
                            <!-- NG Item Status -->
                            <div class="card mb-3">
                                <div class="card-header bg-warning text-dark">
                                    <h6 class="mb-0"><i class="bx bx-error me-2"></i>NG Item Status</h6>
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table table-sm table-bordered">
                                            <thead class="table-light">
                                                <tr>
                                                    <th>CAPA Description</th>
                                                    <th>Responsibility</th>
                                                    <th>Timeline</th>
                                                    <th>Status</th>
                                                </tr>
                                            </thead>
                                            <tbody id="ngItemTableBody">
                                                <tr>
                                                    <td>Lorem ipsum dolor...</td>
                                                    <td>xxxxx@xxxxx.com</td>
                                                    <td>5/31/2025</td>
                                                    <td><span class="status-badge status-approved">Approved</span></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Check Evidence Upload -->
                            <div class="card">
                                <div class="card-header bg-info text-white">
                                    <h6 class="mb-0"><i class="bx bx-file me-2"></i>Check Evidence</h6>
                                </div>
                                <div class="card-body">
                                    <div class="col-md-6">
                                        <p class="text-muted mb-3">Attach Check Evidence Sheet</p>
                                        <!-- <label for="photos" class="form-label">Photos</label> -->
                                        <input class="form-control" type="file" id="photos" accept="image/*">
                                        <!-- <small class="form-text text-muted">Upload incident photos</small> -->
                                    </div>
                                    
                                    <!-- <div class="evidence-upload">
                                        <i class="bx bx-cloud-upload font-30 text-primary"></i>
                                        <p class="mb-2">Click to upload or drag and drop</p>
                                        <input type="file" class="form-control" id="evidenceFile" accept=".pdf,.doc,.docx,.jpg,.png">
                                        <small class="text-muted">Supported formats: PDF, DOC, DOCX, JPG, PNG</small>
                                    </div>
                                        -->
                                    <button type="button" class="btn btn-primary w-100 mt-3">
                                        <i class="bx bx-upload me-1"></i>Upload Evidence
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Statistics Footer -->
                <div class="stats-footer">
                    <div class="d-flex flex-wrap justify-content-center gap-3">
                        <div class="stat-item">
                            <span class="stat-label">Total Safety News:</span>
                            <span class="stat-value">28</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Applicable:</span>
                            <span class="stat-value text-success">8</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Not Applicable:</span>
                            <span class="stat-value text-danger">7</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Not Submitted:</span>
                            <span class="stat-value text-warning">1</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Pending:</span>
                            <span class="stat-value text-info">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">EHS Approved:</span>
                            <span class="stat-value text-success">1</span>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
        <!--end page wrapper -->
        
        <!--start overlay-->
        <div class="overlay toggle-icon"></div>
        <!--end overlay-->
        
        <!--Start Back To Top Button-->
        <a href="javaScript:;" class="back-to-top"><i class="bx bxs-up-arrow-alt"></i></a>
        <!--End Back To Top Button-->
        
        <footer class="page-footer">
            <p class="mb-0">Copyright Â© 2021. All right reserved.</p>
        </footer>
    </div>
    
    <!-- Bootstrap JS -->
    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <!--plugins-->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/plugins/simplebar/js/simplebar.min.js"></script>
    <script src="assets/plugins/metismenu/js/metisMenu.min.js"></script>
    <script src="assets/plugins/perfect-scrollbar/js/perfect-scrollbar.js"></script>
    <!--app JS-->
    <script src="assets/js/app.js"></script>
    
    <script>
        // Sample data for incidents
        const incidentData = {
            2277: {
                id: 2277,
                title: "Smoke at refrigerator",
                totalItems: 1,
                ngItems: 1,
                capaList: [
                    {
                        description: "Lorem ipsum dolor sit amet, consectetur adipiscing elit",
                        responsibility: "xxxxx@xxxxx.com",
                        timeline: "5/31/2025",
                        status: "Approved"
                    }
                ]
            },
            2223: {
                id: 2223,
                title: "Fall due to loss of balance while working at height",
                totalItems: 2,
                ngItems: 0,
                capaList: []
            }
        };
        
        // Function to show incident details
        function showDetails(incidentId) {
            const data = incidentData[incidentId];
            
            if (!data) {
                console.error('Incident not found:', incidentId);
                return;
            }
            
            // Update summary
            document.getElementById('detailId').textContent = data.id;
            document.getElementById('detailTitle').textContent = data.title;
            document.getElementById('detailTotalItems').textContent = data.totalItems;
            document.getElementById('detailNGItems').textContent = data.ngItems;
            
            // Update NG Item table
            const tbody = document.getElementById('ngItemTableBody');
            if (data.capaList.length === 0) {
                tbody.innerHTML = '<tr><td colspan="4" class="text-center text-muted">No NG items</td></tr>';
            } else {
                tbody.innerHTML = data.capaList.map(item => `
                    <tr>
                        <td>${item.description}</td>
                        <td>${item.responsibility}</td>
                        <td>${item.timeline}</td>
                        <td><span class="status-badge status-approved">${item.status}</span></td>
                    </tr>
                `).join('');
            }
            
            // Highlight selected row
            document.querySelectorAll('.clickable-row').forEach(row => {
                row.classList.remove('selected');
            });
            event.currentTarget.classList.add('selected');
        }
        
        // Function to reset filters
        function resetFilters() {
            document.getElementById('filterPlant').selectedIndex = 0;
            document.getElementById('filterSection').selectedIndex = 0;
            document.getElementById('filterDateFrom').value = '';
            document.getElementById('filterDateTo').value = '';
            document.getElementById('filterGrade').selectedIndex = 0;
            document.getElementById('filterClass').selectedIndex = 0;
            document.getElementById('filterStatus').selectedIndex = 0;
        }
        
        // Initialize first row as selected
        document.addEventListener('DOMContentLoaded', function() {
            const firstRow = document.querySelector('.clickable-row');
            if (firstRow) {
                firstRow.classList.add('selected');
            }
        });
    </script>
</body>
</html>